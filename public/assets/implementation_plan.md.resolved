# JeffDev Agency â€” Implementation Plan (Tailored)

> **Aligned with existing scaffold** (Next.js 16.1.1 + Tailwind v4 + Lenis)

---

## Current State âœ…

| Layer | Status | Technology |
|-------|--------|------------|
| Framework | âœ… Ready | Next.js 16.1.1 (App Router) |
| Styling | âœ… Ready | Tailwind v4 + CSS tokens |
| Scroll | âœ… Ready | Lenis smooth scroll |
| Utils | âœ… Ready | `cn()` utility |
| Components | ğŸ”² Pending | Header, Hero, Services, etc. |
| Backend | ğŸ”² Pending | Firebase, Resend, Admin |

---

## Pending Build Order

### Phase 1: Core Components

| # | Component | File | Priority |
|---|-----------|------|----------|
| 1 | **Header** | `src/components/layout/header.tsx` | ğŸ”´ Critical |
| 2 | **Footer** | `src/components/layout/footer.tsx` | ğŸ”´ Critical |
| 3 | **Hero** | `src/components/sections/hero.tsx` | ğŸ”´ Critical |
| 4 | **Services Grid** | `src/components/sections/services.tsx` | ğŸ”´ Critical |
| 5 | **Case Studies** | `src/components/sections/case-studies.tsx` | ğŸŸ¡ High |
| 6 | **Testimonials** | `src/components/sections/testimonials.tsx` | ğŸŸ¡ High |
| 7 | **About/Founder** | `src/components/sections/about.tsx` | ğŸŸ¡ High |
| 8 | **CTA Banner** | `src/components/sections/cta.tsx` | ğŸŸ¢ Medium |

### Phase 2: Pages

```
src/app/
â”œâ”€â”€ page.tsx              # Homepage (Hero + Services + CTA)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ page.tsx          # Services grid
â”‚   â””â”€â”€ [slug]/page.tsx   # Service detail
â”œâ”€â”€ work/
â”‚   â”œâ”€â”€ page.tsx          # Case studies
â”‚   â””â”€â”€ [slug]/page.tsx   # Project detail
â”œâ”€â”€ about/page.tsx        # About Studio + Founder
â”œâ”€â”€ contact/page.tsx      # Contact + Quote form
â”œâ”€â”€ quote/page.tsx        # Multi-step quote form â­ NEW
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ [slug]/page.tsx
â”œâ”€â”€ terms/page.tsx
â”œâ”€â”€ privacy/page.tsx
â””â”€â”€ admin/                # Dedicated Admin Panel â­ NEW
    â”œâ”€â”€ page.tsx          # Dashboard
    â”œâ”€â”€ messages/page.tsx
    â”œâ”€â”€ bookings/page.tsx
    â”œâ”€â”€ projects/page.tsx
    â””â”€â”€ login/page.tsx
```

### Phase 3: Backend Integration

| Feature | Implementation |
|---------|----------------|
| **Firebase** | Shared Firestore (same config as portfolio) |
| **Admin Auth** | Firebase Auth (same users) |
| **Email** | Resend API (existing) |
| **Storage** | Cloudflare R2 (existing) |

---

## Multi-Step Quote Form Spec â­

### Flow
```
Step 1: Project Type     â†’ Step 2: Budget & Timeline â†’ Step 3: Contact Info â†’ Submit
[Web/Mobile/SaaS/AI]        [â‚±50K-100K, 1-2 weeks]       [Name, Email, Company]
```

### Implementation

```tsx
// src/app/quote/page.tsx
'use client'

import { useState } from 'react'
import { z } from 'zod'

const quoteSchema = z.object({
  projectType: z.enum(['web', 'mobile', 'saas', 'ai', 'other']),
  budget: z.enum(['50k-100k', '100k-250k', '250k-500k', '500k+']),
  timeline: z.enum(['1-2-weeks', '1-month', '2-3-months', 'flexible']),
  name: z.string().min(2),
  email: z.string().email(),
  company: z.string().optional(),
  details: z.string().min(20),
})

type QuoteData = z.infer<typeof quoteSchema>

export default function QuotePage() {
  const [step, setStep] = useState(1)
  const [data, setData] = useState<Partial<QuoteData>>({})
  
  // Step navigation + Zod validation per step
  // Save to Firestore: `quotes` collection
  // Send email via Resend
}
```

### Firestore Schema
```ts
// Collection: quotes
{
  id: string
  projectType: 'web' | 'mobile' | 'saas' | 'ai' | 'other'
  budget: string
  timeline: string
  name: string
  email: string
  company?: string
  details: string
  status: 'new' | 'contacted' | 'in-progress' | 'closed'
  createdAt: Timestamp
}
```

---

## Dedicated Admin Panel â­

### Structure
```
src/app/admin/
â”œâ”€â”€ layout.tsx            # Admin shell (sidebar + auth check)
â”œâ”€â”€ page.tsx              # Dashboard (stats overview)
â”œâ”€â”€ login/page.tsx        # Firebase Auth login
â”œâ”€â”€ messages/page.tsx     # Contact form submissions
â”œâ”€â”€ quotes/page.tsx       # Multi-step quote submissions â­
â”œâ”€â”€ bookings/page.tsx     # Calendar bookings
â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ page.tsx          # Projects list
â”‚   â””â”€â”€ [id]/page.tsx     # Project editor
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ [id]/page.tsx
â””â”€â”€ blog/
    â”œâ”€â”€ page.tsx
    â””â”€â”€ [id]/page.tsx
```

### Auth Strategy
- **Same Firebase Auth** as portfolio
- **Same admin users** (check `admin_users` collection)
- **ProtectedRoute** component wraps admin layout

```tsx
// src/app/admin/layout.tsx
import { cookies } from 'next/headers'
import { redirect } from 'next/navigation'
import { verifySessionCookie } from '@/lib/firebase-admin'

export default async function AdminLayout({ children }: { children: React.ReactNode }) {
  const session = cookies().get('session')?.value
  
  if (!session) redirect('/admin/login')
  
  const user = await verifySessionCookie(session)
  if (!user) redirect('/admin/login')
  
  return (
    <div className="flex min-h-screen">
      <AdminSidebar />
      <main className="flex-1 p-6">{children}</main>
    </div>
  )
}
```

---

## Shared Firebase Strategy

### Same Collections (Both Sites)
| Collection | Agency | Portfolio |
|------------|--------|-----------|
| `projects` | `isClientWork: true` | All |
| `services` | All | All |
| `posts` | All | All |
| `testimonials` | All | â€” |
| `messages` | All | All |
| `bookings` | All | All |
| `quotes` | âœ… New | â€” |

### Environment Variables
```env
# .env.local (Agency)
NEXT_PUBLIC_FIREBASE_API_KEY=xxx
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=xxx
NEXT_PUBLIC_FIREBASE_PROJECT_ID=xxx
FIREBASE_ADMIN_PRIVATE_KEY=xxx
FIREBASE_ADMIN_CLIENT_EMAIL=xxx
RESEND_API_KEY=xxx
R2_ACCESS_KEY_ID=xxx
R2_SECRET_ACCESS_KEY=xxx
```

---

## Design Constraints (From Rules)

| Constraint | Value |
|------------|-------|
| Background | `#050505` (--color-void) |
| Border radius | `rounded-sm` or `rounded-md` only |
| Language | B2B ("We partner..." not "I freelance...") |
| Forms | Zod validation mandatory |
| TypeScript | Strict mode, no `any` |

---

## Next Steps

1. [ ] **Build Header component** (glass nav, logo, GET QUOTE CTA)
2. [ ] **Build Hero section** (GSAP reveal, trust badges)
3. [ ] **Build Services grid** (4 cards with icons)
4. [ ] **Build Footer** (DTI number, legal links)
5. [ ] **Build Quote form** (multi-step with Zod)
6. [ ] **Set up Firebase** (shared config)
7. [ ] **Build Admin shell** (sidebar, auth)
8. [ ] **Migrate content** (services, projects from portfolio)
